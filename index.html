<!DOCTYPE html>
<html lang="vi">
<head>
    <link rel="icon" href="assets\img\autumn.png" type="image/x-icon">
    <title>A4Luminous</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Intro Screen -->
    <div class="intro-screen" id="introScreen">
        <div class="intro-text-line" id="line1"></div>
        <div class="intro-text-line" id="line2"></div>
        <div class="intro-text-line" id="line3"></div>
        <button class="intro-button" onclick="startExperience()">Tiếp Tục →</button>
    </div>

    <!-- Music Control -->
    <div class="music-control">
        <div class="current-song" id="currentSong">🎵 Đang chọn bài...</div>
        <select class="song-select" id="songSelect">
            <option value="assets/sound/Bình Yên - Vũ.mp3">🍂 Bình Yên - Vũ</option>
            <option value="assets/sound/Cứ Chill Thôi - Chillies.mp3">🍁 Cứ Chill Thôi - Chillies</option>
            <option value="assets/sound/Lối Nhỏ - Đen Vâu.mp3">🍎 Lối Nhỏ - Đen Vâu</option>
            <option value="assets/sound/Quá Lâu - Vinh Khuất.mp3">🌸 Quá Lâu - Vinh Khuất</option>
        </select>
        <button class="music-btn" id="toggleMusic">⏸️ Tạm dừng</button>
        <input type="range" class="volume-control" id="volumeControl" min="0" max="100" value="70">
        <div style="text-align: center; color: #a0724e; font-size: 0.9em; margin-top: 5px;">
            <span id="volumeText">70%</span>
        </div>
    </div>

    <audio id="bgMusic" loop>
        <source src="assets/sound/Bình Yên - Vũ.mp3" type="audio/mpeg">
    </audio>

    <div class="container" id="mainContainer">
        <!-- Header -->
        <div class="header">
            <h1>🍂 Chúc Mừng 20/10 🍂</h1>
            <p class="date">Ngày Phụ Nữ Việt Nam</p>
            <p class="class-name">Lớp A4Luminous</p>
            <img src="logo.png" alt="A4Luminous Logo" class="header-logo" onerror="this.style.display='none'">
        </div>

        <!-- Class Photo -->
        <div class="class-photo">
            <div class="photo-box">
                <div class="photo-decorations">
                    <span>🍂</span>
                    <span>🍎</span>
                    <span>🍁</span>
                    <span>🍎</span>
                    <span>🍂</span>
                </div>
                <h3>🍂 Ảnh Lớp A4Luminous 🍂</h3>
                <img src="assets/img/BÌA.jpg" alt="Lớp A4Luminous" onclick="openPhotoModal()">
                <p class="photo-caption">✨ Những bông hoa xinh đẹp của A4Luminous trong sắc thu ✨</p>
                <button class="view-btn" onclick="openPhotoModal()">🔍 Xem ảnh phóng to</button>
            </div>
        </div>

        <!-- Photo Modal -->
        <div class="photo-modal" id="photoModal" onclick="closePhotoModal(event)">
            <div class="modal-content" onclick="event.stopPropagation()">
                <button class="close-btn" onclick="closePhotoModal(event)">✕</button>
                <img src="assets/img/BÌA.jpg" alt="Lớp A4Luminous">
                <div class="love-text" id="loveText">💕 YÊU LỚP NHIỀU 💕</div>
            </div>
        </div>

        <!-- Message Section -->
        <div class="message-section">
            <h2>🍎 Lời Chúc Đặc Biệt 🍎</h2>
            <p>
                Gửi đến tất cả các bạn nữ xinh đẹp, tài năng của lớp A4Luminous! 🍂
            </p>
            <p style="margin-top: 20px;">
                Chúc các bạn luôn rạng rỡ như ánh nắng mùa thu, ấm áp và tỏa sáng như những trái táo chín đỏ. 
                Mong rằng các bạn sẽ luôn có những ngày tháng thật vui vẻ, hạnh phúc và thành công trên con đường phía trước!
            </p>
            <p style="margin-top: 20px; font-size: 1.4em; color: #8b5a2b; font-weight: bold;">
                20/10 - Yêu các bạn nhiều lắm! 🍎
            </p>
        </div>

        <!-- Wishes Form -->
        <div class="wishes-form">
            <h2>✍️ Gửi Lời Chúc</h2>
            <form id="wishForm">
                <div class="form-group">
                    <label for="senderName">Tên của bạn:</label>
                    <input type="text" id="senderName" placeholder="Nhập tên của bạn..." required>
                </div>
                
                <div class="form-group">
                    <label>Loại lời chúc:</label>
                    <div style="display: flex; gap: 20px; margin-top: 10px;">
                        <label style="display: flex; align-items: center; cursor: pointer;">
                            <input type="radio" name="wishType" value="public" checked style="margin-right: 8px; width: 18px; height: 18px;">
                            <span style="color: #5d4037;">🍂 Gửi cho cả lớp</span>
                        </label>
                        <label style="display: flex; align-items: center; cursor: pointer;">
                            <input type="radio" name="wishType" value="private" style="margin-right: 8px; width: 18px; height: 18px;">
                            <span style="color: #5d4037;">🍎 Gửi riêng cho một người</span>
                        </label>
                    </div>
                </div>

                <div class="form-group" id="recipientGroup" style="display: none;">
                    <label for="recipientName">Tên người nhận:</label>
                    <input type="text" id="recipientName" placeholder="Nhập tên người bạn muốn gửi...">
                </div>
                
                <div class="form-group">
                    <label for="wishMessage">Lời chúc của bạn:</label>
                    <textarea id="wishMessage" placeholder="Viết lời chúc của bạn tại đây..." required></textarea>
                </div>
                <button type="submit" class="submit-btn">🍂 Gửi Lời Chúc</button>
            </form>

            <!-- Check Private Wishes -->
            <div style="margin-top: 40px; padding-top: 40px; border-top: 2px solid rgba(212, 145, 92, 0.3);">
                <h3 style="color: #8b5a2b; font-size: 1.8em; margin-bottom: 25px; text-align: center;">🍎 Xem Lời Chúc Riêng Của Bạn</h3>
                <div class="form-group">
                    <label for="checkName">Nhập tên của bạn để xem lời chúc:</label>
                    <input type="text" id="checkName" placeholder="Nhập tên của bạn...">
                </div>
                <button type="button" class="view-btn" onclick="checkPrivateWishes()" style="width: 100%; margin-top: 10px;">🔍 Xem Lời Chúc Dành Cho Tôi</button>
            </div>

            <!-- Wishes Display -->
            <div class="wishes-display">
                <h3>💬 Lời Chúc Công Khai</h3>
                <div id="wishesContainer">
                    <p class="no-wishes">Chưa có lời chúc công khai nào. Hãy là người đầu tiên gửi lời chúc! 🍂</p>
                </div>
            </div>
        </div>

        <!-- Private Wishes Modal -->
        <div class="photo-modal" id="privateWishesModal" onclick="closePrivateWishesModal(event)">
            <div class="modal-content" onclick="event.stopPropagation()" style="max-width: 800px; width: 90%; background: rgba(255, 248, 235, 0.98); padding: 40px; border-radius: 25px; max-height: 80vh; overflow-y: auto;">
                <button class="close-btn" onclick="closePrivateWishesModal(event)">✕</button>
                <h2 style="color: #8b5a2b; text-align: center; margin-bottom: 30px; font-size: 2em;">🍎 Lời Chúc Dành Cho <span id="recipientNameDisplay"></span></h2>
                <div id="privateWishesContainer"></div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>
    <script src="main.js" defer></script>
</body>
</html>
